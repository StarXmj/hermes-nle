/* =============================================================================
   üèõÔ∏è 1. STRUCTURE GLOBALE & √âCRAN (Le Squelette)
   ============================================================================= */
.greek-runner-container {
    position: fixed; 
    top: 0; left: 0; 
    width: 100vw; 
    
    /* ‚úÖ FIX MOBILE : Utiliser dvh pour √©viter les barres d'adresse */
    height: 100vh; 
    height: 100dvh; 
    
    background: #000; 
    overflow: hidden; 
    z-index: 99990;
    font-family: 'Helvetica Neue', Arial, sans-serif;
    user-select: none; 
    touch-action: none; /* Bloque le scroll √©lastique sur mobile */
}

.game-canvas { 
    display: block; 
    width: 100%; 
    height: 100%; 
}

/* =============================================================================
   üîí 2. √âCRAN DE VERROUILLAGE (MOBILE PORTRAIT)
   ============================================================================= */
.orientation-lock {
    display: none !important; /* Cach√© par d√©faut */
    position: fixed; 
    inset: 0;
    z-index: 2147483647; /* Toujours au-dessus de tout */
    background: #000; 
    color: #DAA520; 
    flex-direction: column; 
    justify-content: center; 
    align-items: center;
    text-align: center;
    padding: 20px;
}

/* On l'affiche UNIQUEMENT si on est sur mobile ET en portrait */
@media screen and (orientation: portrait) {
    .orientation-lock { display: flex !important; }
}

.rotate-phone-animation { 
    animation: rotatePhone 2s infinite ease-in-out; 
    margin-bottom: 30px; 
}
@keyframes rotatePhone { 
    0%, 10% { transform: rotate(0deg); } 
    40%, 60% { transform: rotate(90deg); } 
    90%, 100% { transform: rotate(0deg); } 
}
.phone-icon { color: #fff; }

/* =============================================================================
   üñ•Ô∏è 3. √âCRAN DE D√âMARRAGE (IMMERSION)
   ============================================================================= */
.immersion-start-screen {
    position: fixed; inset: 0; 
    background: #111; 
    z-index: 150;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    color: #fff;
}
.immersion-start-screen h1 {
    font-size: 5vw; color: #DAA520; margin: 0 0 20px 0;
    text-shadow: 0 0 30px rgba(218, 165, 32, 0.4);
}
.greek-start-button.pulse { animation: pulseBtn 2s infinite; }
@keyframes pulseBtn {
    0% { transform: scale(1); box-shadow: 0 0 20px rgba(218, 165, 32, 0.2); }
    50% { transform: scale(1.05); box-shadow: 0 0 40px rgba(218, 165, 32, 0.5); }
    100% { transform: scale(1); box-shadow: 0 0 20px rgba(218, 165, 32, 0.2); }
}
.back-link { margin-top: 30px; color: #666; text-decoration: none; font-size: 0.9rem; }

/* =============================================================================
   üì± 4. SYST√àME DE SLIDE (LE C≈íUR DU DESIGN)
   ============================================================================= */
.greek-overlay {
    position: fixed; inset: 0; 
    background: rgba(0,0,0,0.9); /* Fond sombre */
    z-index: 100; 
    overflow: hidden;
}

/* --- VUE 1 : MENU PRINCIPAL (Jeu + Leaderboard) --- */
.main-view-container {
    width: 100%; height: 100%;
    position: absolute; top: 0; left: 0;
    
    /* Animation fluide */
    transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.5s;
    
    /* ‚úÖ CENTRAGE CRITIQUE SUR PC */
    display: flex; 
    justify-content: center; 
    align-items: center;
    
    z-index: 10;
    transform: translateX(0); /* Position normale */
    opacity: 1;
}

/* √âtat : D√©cal√© vers la gauche (quand on ouvre l'extension) */
.main-view-container.shifted-left {
    transform: translateX(-100vw); /* D√©gage de l'√©cran */
    opacity: 0.3; 
    pointer-events: none; /* On ne peut plus cliquer */
}

/* --- LE CONTENEUR INTERNE (Pour aligner Gauche/Droite) --- */
.menu-container {
    position: relative; 
    z-index: 10;
    
    /* Taille id√©ale sur PC */
    width: 90%; 
    max-width: 1300px; 
    height: 80vh; 
    
    /* Disposition Flex : Gauche | Droite */
    display: flex; 
    gap: 60px; 
    align-items: center;
}

/* =============================================================================
   üåä 5. FOND ANIM√â (PARTENAIRES)
   ============================================================================= */
.waterfall-bg {
    position: absolute; inset: 0;
    display: flex; justify-content: space-around;
    opacity: 0.2; /* Tr√®s discret */
    pointer-events: none;
    z-index: 0;
}

.waterfall-col {
    display: flex; flex-direction: column; gap: 60px; width: 120px;
}

/* Animation de d√©filement infini */
.waterfall-col.infinite-scroll {
    animation-name: scrollVertical;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    will-change: transform;
}
@keyframes scrollVertical { 
    0% { transform: translateY(0); } 
    100% { transform: translateY(-50%); } 
}

.wf-item {
    width: 100%; display: flex; justify-content: center; align-items: center;
}
.wf-item img {
    width: 80%; opacity: 0.6; filter: grayscale(25%); transition: 0.3s;
}
.wf-item img:hover { 
    opacity: 1; filter: grayscale(0%); transform: scale(1.1); 
}

/* =============================================================================
   üì± 6. ADAPTATION MOBILE (PAYSAGE)
   ============================================================================= */
@media (max-height: 500px) {
    /* Le menu prend presque tout l'√©cran sur mobile */
    .menu-container { 
        width: 98%; 
        height: 95vh; 
        gap: 20px; 
    }
    
    .immersion-start-screen h1 { font-size: 3rem; }
}

/* =============================================================================
   ‚è∏Ô∏è MENU PAUSE (CORRIG√â MOBILE)
   ============================================================================= */
.pause-overlay {
    position: fixed; inset: 0; 
    background: rgba(0, 0, 0, 0.9); 
    z-index: 99999; /* Toujours au-dessus */
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    backdrop-filter: blur(10px);
    
    /* ‚úÖ FIX MOBILE : Emp√™che le jeu de capter les clics √† travers */
    touch-action: none; 
}

.pause-overlay h1 {
    font-size: 4rem; color: #fff; margin: 0 0 40px 0;
    font-weight: 900; letter-spacing: 5px;
    text-shadow: 0 0 20px rgba(218, 165, 32, 0.5);
}

.pause-menu {
    display: flex; flex-direction: column; gap: 20px;
    width: 300px; max-width: 90vw;
    
    /* ‚úÖ FIX MOBILE : On s'assure que le conteneur capte les √©v√©nements */
    pointer-events: auto; 
}

/* Bouton REPRENDRE */
.btn-pause-resume {
    background: #DAA520; border: none; 
    padding: 20px; /* Plus gros pour le pouce */
    font-size: 1.5rem; font-weight: 900; color: #000; 
    cursor: pointer; text-transform: uppercase; 
    clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
    
    /* ‚úÖ FIX MOBILE */
    touch-action: manipulation;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}
.btn-pause-resume:active { transform: scale(0.95); background: #b8860b; }

/* Boutons SECONDAIRES */
.btn-pause-secondary {
    background: rgba(255,255,255,0.1); 
    border: 2px solid #555; color: #fff; 
    padding: 15px; /* Plus gros aussi */
    font-weight: 700; cursor: pointer; text-transform: uppercase; 
    font-size: 1.1rem;
    
    /* ‚úÖ FIX MOBILE */
    touch-action: manipulation;
}
.btn-pause-secondary:active { background: rgba(255,255,255,0.2); border-color: #fff; }

/* MOBILE SP√âCIFIQUE */
@media (max-height: 600px) {
    .pause-overlay h1 { font-size: 2.5rem; margin-bottom: 20px; }
    .pause-menu { width: 80%; gap: 15px; }
    
    /* On force des gros boutons sur petit √©cran */
    .btn-pause-resume { padding: 15px; font-size: 1.2rem; }
    .btn-pause-secondary { padding: 12px; font-size: 1rem; }
}

/* =============================================================================
   üü° LE GROS BOUTON "LANCER L'EXP√âRIENCE"
   ============================================================================= */
.greek-start-button {
    /* Taille et Forme */
    padding: 25px 60px;
    font-size: 1.8rem;
    font-weight: 900;
    border-radius: 50px; /* Bords bien ronds */
    border: none;
    cursor: pointer;
    
    /* Couleurs : Un d√©grad√© Jaune/Or tr√®s riche */
    background: linear-gradient(180deg, #FFD700 0%, #DAA520 100%);
    color: #000; /* Texte noir pour un contraste maximal */
    
    /* Effets de Style */
    text-transform: uppercase;
    letter-spacing: 2px;
    box-shadow: 
        0 10px 0 #B8860B, /* Effet 3D (le dessous du bouton) */
        0 20px 40px rgba(255, 215, 0, 0.4); /* Lueur dor√©e autour */
    
    /* Centrage du texte et ic√¥ne */
    display: flex; align-items: center; justify-content: center; gap: 15px;
    
    /* Animation */
    transition: all 0.1s ease;
    animation: gentlePulse 2s infinite;
}

/* Au survol : Il brille plus fort */
.greek-start-button:hover {
    filter: brightness(1.1);
    transform: translateY(-2px);
    box-shadow: 
        0 12px 0 #B8860B,
        0 30px 60px rgba(255, 215, 0, 0.6);
}

/* Au clic : Il s'enfonce (Effet m√©canique satisfaisant) */
.greek-start-button:active {
    transform: translateY(10px); /* Il descend de 10px */
    box-shadow: 
        0 0 0 #B8860B, /* L'ombre 3D dispara√Æt */
        inset 0 5px 10px rgba(0,0,0,0.2); /* Ombre int√©rieure */
}

/* Petite animation de respiration pour attirer l'≈ìil */
@keyframes gentlePulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}